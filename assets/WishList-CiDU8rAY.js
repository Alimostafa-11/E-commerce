import{r as c,W as f,C as g,j as t,V as n}from"./index-DAw6Yjy7.js";const o=()=>{const{products:a,deleteWishList:m}=c.useContext(f),[s,x]=c.useState([]),{addToCart:h}=c.useContext(g);async function r(e){(await m(e)).data.status==="success"?(n.success("Product Deleted"),x(i=>i.filter(u=>u._id!==e))):n.error("Error deleting product")}async function d(e){var i;let l=await h(e);l.data.status==="success"?(n.success((i=l==null?void 0:l.data)==null?void 0:i.message),r(e)):n.error("Error adding to cart")}return c.useEffect(()=>{(a==null?void 0:a.length)>0&&x(a)},[a]),t.jsx(t.Fragment,{children:(s==null?void 0:s.length)>0?t.jsxs("div",{className:"relative pt-10 overflow-x-auto shadow-md sm:rounded-lg",children:[t.jsx("h2",{className:"text-4xl pb-3 text-green-500",children:"My Wish List"}),t.jsx("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:t.jsx("tbody",{children:s==null?void 0:s.map(e=>t.jsx("tr",{className:"bg-white border-b  ",children:t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("img",{src:e==null?void 0:e.imageCover,className:"w-70 m-auto md:w-50 max-w-full max-h-full",alt:"Product"})}),t.jsx("span",{className:"font-semibold text-center pb-5  text-gray-600",children:e==null?void 0:e.title}),t.jsxs("div",{className:"flex items-center justify-between md:justify-end flex-wrap gap-2 mt-2 md:mt-0",children:[t.jsx("td",{className:"px-6 py-4 text-center text-gray-900 dark:text-white",children:t.jsxs("button",{onClick:()=>r(e==null?void 0:e._id),className:" text-red-600 hover:underline dark:text-red-500",children:[t.jsx("i",{class:"fa-solid fa-trash"})," Remove"]})}),t.jsxs("td",{className:"px-6 py-4 font-semibold text-green-500",children:[e==null?void 0:e.price," EGP"]}),t.jsx("td",{className:"px-6 py-4 space-x-2",children:t.jsx("button",{onClick:()=>d(e==null?void 0:e._id),className:"bg-green-500  text-white px-3 py-1 rounded hover:bg-green-600",children:"Add to Cart"})})]})]})})},e==null?void 0:e._id))})})]}):t.jsx("p",{className:"text-gray-500 text-xl mt-6",children:"Your wishlist is empty."})})};export{o as default};
