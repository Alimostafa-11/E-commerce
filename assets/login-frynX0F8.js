import{r as t,U as f,u as j,c as v,a as d,d as b,j as e,L as N,e as y}from"./index-CXj7BrX5.js";const C=()=>{let{userLogin:A,setuserLogin:c}=t.useContext(f),[l,u]=t.useState(null),[x,r]=t.useState(!1),h=j();function g(w){r(!0),y.post("https://ecommerce.routemisr.com/api/v1/auth/signin",w).then(({data:a})=>{r(!1),console.log(a==null?void 0:a.token),a.message=="success"&&(localStorage.setItem("userToken",a.token),c(a.token),h("/"))}).catch(a=>{var o,n,i,m;r(!1),console.log((n=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:n.message),u((m=(i=a==null?void 0:a.response)==null?void 0:i.data)==null?void 0:m.message)})}let p=v().shape({email:d().email("Invalid email").required("Email is required"),password:d().min(3,"Password must be at least 3 characters").required("Password is required").matches(/^[A-Z][a-z0-9]{4,10}$/,"must be start with capital letter and lowercase letters and numbers")}),s=b({initialValues:{email:"",password:""},validationSchema:p,onSubmit:g});return t.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-gray-100 flex h-screen items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"w-full max-w-md space-y-8",children:e.jsxs("div",{className:"bg-white shadow-md rounded-md p-6",children:[e.jsx("img",{className:"mx-auto h-12 w-auto",src:"https://www.svgrepo.com/show/499664/user-happy.svg",alt:"user icon"}),e.jsx("h2",{className:"my-3 text-center text-3xl font-bold tracking-tight text-green-700",children:"Login Now"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-6",method:"POST",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email,id:"email",name:"email",type:"email",autoComplete:"email",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.email&&s.touched.email?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.email})]}):null,e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password,id:"password",name:"password",type:"password",autoComplete:"password",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.password&&s.touched.password?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.password})]}):null,e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex cursor-pointer w-full justify-center rounded-md border border-transparent bg-green-400 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2",children:x?e.jsx("i",{className:"fas fa-spinner fa-spin "}):"Login"})}),l?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:l})]}):null,e.jsx("div",{children:e.jsx(N,{to:"/forgetPassword",children:"Forget Password ?"})})]})]})})})})};export{C as default};
