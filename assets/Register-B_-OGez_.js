import{r as l,U as f,u as v,c as j,a,b,d as N,j as e,e as y}from"./index-DAw6Yjy7.js";const C=()=>{let{setuserLogin:c}=l.useContext(f),[n,h]=l.useState(null),[u,t]=l.useState(!1),x=v();function p(w){t(!0),y.post("https://ecommerce.routemisr.com/api/v1/auth/signup",w).then(({data:r})=>{t(!1),console.log(r==null?void 0:r.token),r.message=="success"&&(c(r==null?void 0:r.token),x("/"),localStorage.setItem("userToken",r==null?void 0:r.token))}).catch(r=>{var o,m,d,i;t(!1),console.log((m=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:m.message),h((i=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:i.message)})}let g=j().shape({name:a().required("Name is required").min(3,"name must be at least 3 characters").max(10,"name must be at most 10 characters"),email:a().email("Invalid email").required("Email is required"),password:a().min(3,"Password must be at least 3 characters").required("Password is required").matches(/^[A-Z][a-z0-9]{4,10}$/,"must be start with capital letter and lowercase letters and numbers"),rePassword:a().oneOf([b("password"),null],"invalid rePassword").required("rePassword is required"),phone:a().required("Phone number is required").matches(/^01[0125][0-9]{8}$/,"invalid phone")}),s=N({initialValues:{name:"",email:"",password:"",rePassword:"",phone:""},validationSchema:g,onSubmit:p});return l.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-gray-100 flex h-screen items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"w-full max-w-md space-y-8",children:e.jsxs("div",{className:"bg-white shadow-md rounded-md p-6",children:[e.jsx("img",{className:"mx-auto h-12 w-auto",src:"https://www.svgrepo.com/show/499664/user-happy.svg",alt:"user icon"}),e.jsx("h2",{className:"my-3 text-center text-3xl font-bold tracking-tight text-green-700",children:"Register Now"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-6",method:"POST",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.name,id:"name",name:"name",type:"text",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.name&&s.touched.name?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.name})]}):null,e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email,id:"email",name:"email",type:"email",autoComplete:"email",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.email&&s.touched.email?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.email})]}):null,e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password,id:"password",name:"password",type:"password",autoComplete:"password",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.password&&s.touched.password?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.password})]}):null,e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rePassword",className:"block text-sm font-medium text-gray-700",children:"rePassword"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.rePassword,id:"rePassword",name:"rePassword",type:"password",autoComplete:"re-password",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.rePassword&&s.touched.rePassword?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.rePassword})]}):null,e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.phone,id:"phone",name:"phone",type:"tel",autoComplete:"tel",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:outline-none focus:ring-green-500 sm:text-sm"})})]}),s.errors.phone&&s.touched.phone?e.jsxs("div",{className:"bg-red-200 px-6 py-4  my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:s.errors.phone})]}):null,e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex cursor-pointer w-full justify-center rounded-md border border-transparent bg-green-400 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2",children:u?e.jsx("i",{className:"fas fa-spinner fa-spin "}):"Register Account"})}),n?e.jsxs("div",{className:"bg-red-200 px-6 py-4 my-4 rounded-md text-lg flex items-center mx-auto max-w-lg",children:[e.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-5 h-5 sm:w-5 sm:h-5 mr-3",children:e.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})}),e.jsx("span",{className:"text-red-800",children:n})]}):null]})]})})})})};export{C as default};
